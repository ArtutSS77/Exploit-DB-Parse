from django.shortcuts import render
from django.http import HttpResponse
from .models import User
# Create your views here.

def update_filter(request):
    if request.method == 'POST':
        params = request.POST
        user = User.objects.get(telegram_id=params['telegram_id'])
        user.filters = params['filter']
        user.save()
        return HttpResponse(200)

def delete_filter(request):
    if request.method == 'POST':
        params = request.POST
        user = User.objects.get(telegram_id=params['telegram_id'])
        user.filters = None
        user.save()
        return HttpResponse(200)

def create_user(request):
    if request.method == 'POST':
        params = request.POST
        User.objects.create(telegram_id=params['telegram_id'], filters=None)
        return HttpResponse(200)